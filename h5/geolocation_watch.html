<!DOCTYPE html>
<html>
    <body>
        <meta charset="utf-8">
        <p id="demo">点击按钮获取您当前坐标（可能需要比较长的时间获取）：</p>
        <button onclick="getLocation()">点我</button>
        <div id="mapholder"></div>
        <script>
            var x=document.getElementById("demo");
            function getLocation()
            {
                if (navigator.geolocation)
                {
                    navigator.geolocation.watchPosition(showPosition);
                }
                else
                {
                    x.innerHTML="该浏览器不支持获取地理位置。";
                }
            }
             
            function showPosition(position)
            {
                x.innerHTML="纬度: " + position.coords.latitude + 
                "<br>经度: " + position.coords.longitude;    
                var latlon=position.coords.latitude+","+position.coords.longitude;
                var img_url="http://ditu.google.cn/maps/api/staticmap?center="
                +latlon+"&zoom=14&size=400x300&sensor=false";
                document.getElementById("mapholder").innerHTML="<img src='"+img_url+"'>";
            }
        </script>
    </body>
</html>